<header>
    <h1>Ofertas guardadas</h1>
</header>
<main>
    <table mat-table [dataSource]="offers()">

        <!-- Puesto -->
        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef>Puesto</th>
            <td mat-cell *matCellDef="let offer">{{ offer.title }}</td>
        </ng-container>

        <!-- Empresa -->
        <ng-container matColumnDef="company">
            <th mat-header-cell *matHeaderCellDef>Empresa</th>
            <td mat-cell *matCellDef="let offer">{{ offer.company }}</td>
        </ng-container>

        <!-- Fecha -->
        <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef>Fecha</th>
            <td mat-cell *matCellDef="let offer">{{ formatDate(offer.date) }}</td>
        </ng-container>

        <!-- Enviada -->
        <ng-container matColumnDef="submitted">
            <th mat-header-cell *matHeaderCellDef>Enviada</th>
            <td mat-cell *matCellDef="let offer">
                <mat-icon>{{ offer.submitted ? 'check_circle' : 'cancel' }}</mat-icon>
            </td>
        </ng-container>

        <!-- Acciones -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Acciones</th>
            <td mat-cell *matCellDef="let offer">
                <button mat-icon-button [routerLink]="['/edit-offer', offer.id]" matTooltip="Editar">
                    <mat-icon>edit</mat-icon>
                </button>

                <button mat-icon-button (click)="delete(offer.id)">
                    <mat-icon class="delete">delete</mat-icon>
                </button>
            </td>
        </ng-container>

        <!-- Header y rows -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    </table>
</main>

<footer>
    <button matButton="filled" routerLink="/new-offer">
        <mat-icon>add</mat-icon>
        AÃ±adir nueva oferta
    </button>
</footer>